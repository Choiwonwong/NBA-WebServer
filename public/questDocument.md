# Quest 서비스란?

Quest 서비스는 EKS 프로비저닝과 미리 준비해주신 이미지를 쉽고 빠르게 배포하기 위해서 사용할 수 있는 통합 서비스입니다.

EKS를 프로비저닝하는 작업부터 해당 EKS에 만들어두신 애플리케이션을 배포하고, 엔드포인트를 통해 확인하실 수 있어요.

### 이러한 일련의 과정을 _빠르고(Quick)_, _통합하여(United)_, _쉽고(Easy)_, _간단하게(Simple)_ 만들어주는 도구(Tool)가 저희 Quest 서비스에요.

아직은 제약 사항이 많으니, 아래의 _Quest Service 제약 사항_ 을 꼭 확인해주세요.

또한, Quest.yaml을 작성하기 위한 방법을 "최소", "전체", "배포" 라는 3가지로 구분해서 설명했어요. 필요하신 사항을 가지고 가셔서 예제를 가져가셔서 사용하세요.

---

# Quest Service 제약 사항 - Contraints

이는 현재 서비스의 범위와 동일한 의미를 가져요. 이를 *프로비저닝*과 *배포*의 측면에서 설명드릴게요.

## Provisioning

현재는 _EKS 프로비저닝_ 만 지원해요.

요청하신 EKS를 확실하게 프로비저닝할 수 있게, 네트워크 요소들은 새로 올라갈 수 있다는 점 양해 부탁드려요.

데이터 플레인 타입은 _노드그룹_ 만 가능해요.

Fargate와 Karpenter 등의 데이터플레인이 AWS내에서 사용 가능하지만, 이를 포괄해서 사용하는 서비스를 구축하진 못했어요.

## Deploy

현재는 하나의 요청에 애플리케이션만 배포가 가능해요.

배포를 위해서, 디플로이먼트 명과 다른 부분을을 하나씩만 입력받기 때문이에요.

만약, EKS위에 추가적인 배포를 원하시면, "요청 타입: 배포" 형태로 서비스를 한번 더 이용하셔야해요.

또한, 노출 방법은 LoadBalancer 타입으로만 가능해요.

사용자께서 배포하신 애플리케이션을 확인하시기 위해 가장 빠르고 확실한 방법이에요.

이를 L7 Ingress를 적용하기 위해선, 직접 구성을 해주셔야해요.

다행히, 저희 서비스를 통해 배포를 진행하시면 해당 EKS 환경에 AWS LoadBalancer Controller가 배포되니깐, 별도의 Ingress Controller를 구성하실 필요는 없어요.

## AWS Credentials

저희 서비스를 사용하시면 사용자의 AWS 계정에 EKS 환경이 프로비저닝 되요.

이를 위해서 개별적인 사용자의 토큰을 통해서, 서비스를 개발하려고 했지만, 필요한 권한을 추가로 열어주셔야해서, 정상적인 프로비저닝을 위해서 루트 계정 입력하셔야지 서비스를 수행할 수 있어요.

이 점을 주의해주시고, 입력해주신 Credentials은 절대 외부로 노출되지 않아요.

## 인증 과정

현재 Quest 서비스는 로그인 과정이 없어요. 그렇기 때문에 데모 버전이라고 봐주시고, 이러한 서비스의 효과의 측면을 봐주시면 될 것 같아요.

로그인 및 인증 기능은 프로젝트 이후에 추가할 예정이에요.

---

# Quest.yaml 작성 방법

저희 서비스를 사용하기 위해선 Quest.yaml에 아래에 정의된 규칙대로 작성하신 후 서비스를 이용하실 수 있어요.

현재는 "전체 입력" 부분에서 정의된 내용들만 사용하실 수 있으니깐, 양해 부탁드려요.

## 최소 입력

위 사항은 무조건 입력하셔야하는 값들이에요. 해당 값들이 입력되지 않으면, 서비스를 사용하실 수 없어요.

```yaml
요청_명: awslb-test
AWS_인증정보:
  AWS_계정_접근_키: "Access Key"
  AWS_계정_비밀_키: "Secret Key"
배포_요청:
  애플리케이션:
    이미지_이름: nginx:latest
    포트_반호: 80
```

이렇게 입력하시고 서비스를 이용하시면 나머지 값들은 모두 기본 값으로 사용되요. 해당 요청을 수행하시면 아래와 같이 프로비저닝되고, 배포가 수행되요.

```yaml

```
